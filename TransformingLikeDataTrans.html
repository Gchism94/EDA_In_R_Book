<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Exploratory Data Analysis In R Book - Transforming like a Data… Transformer</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ImputingLikeDataScientist.html" rel="next">
<link href="./ExploringLikeDataAdventurer.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./TransformingLikeDataTrans.html">Transforming like a Data… Transformer</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Exploratory Data Analysis In R Book</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/Gchism94/EDA_In_R_Workshops" rel="" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./DiagnosingLikeDataDoctor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Diagnosing like a Data Doctor</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ExploringLikeDataAdventurer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Exploring like a Data Adventurer</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./TransformingLikeDataTrans.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Transforming like a Data… Transformer</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ImputingLikeDataScientist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Imputing like a Data Scientist</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./CorrelateLikeDataMaster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Correlating Like a Data Master</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#purpose-of-this-chapter" id="toc-purpose-of-this-chapter" class="nav-link active" data-scroll-target="#purpose-of-this-chapter">Purpose of this chapter</a></li>
  <li><a href="#take-aways" id="toc-take-aways" class="nav-link" data-scroll-target="#take-aways">Take-aways</a></li>
  <li><a href="#required-setup" id="toc-required-setup" class="nav-link" data-scroll-target="#required-setup">Required Setup</a></li>
  <li><a href="#load-and-examine-a-data-set" id="toc-load-and-examine-a-data-set" class="nav-link" data-scroll-target="#load-and-examine-a-data-set">Load and Examine a Data Set</a>
  <ul class="collapse">
  <li><a href="#data-normality" id="toc-data-normality" class="nav-link" data-scroll-target="#data-normality">Data Normality</a></li>
  <li><a href="#describing-properties-of-our-data-refined" id="toc-describing-properties-of-our-data-refined" class="nav-link" data-scroll-target="#describing-properties-of-our-data-refined">Describing Properties of our Data (Refined)</a></li>
  </ul></li>
  <li><a href="#testing-normality-accelerated" id="toc-testing-normality-accelerated" class="nav-link" data-scroll-target="#testing-normality-accelerated">Testing Normality (Accelerated)</a></li>
  <li><a href="#normality-within-groups" id="toc-normality-within-groups" class="nav-link" data-scroll-target="#normality-within-groups">Normality within Groups</a></li>
  <li><a href="#transforming-data" id="toc-transforming-data" class="nav-link" data-scroll-target="#transforming-data">Transforming Data</a>
  <ul class="collapse">
  <li><a href="#square-root-cube-root-and-logarithmic-transformations" id="toc-square-root-cube-root-and-logarithmic-transformations" class="nav-link" data-scroll-target="#square-root-cube-root-and-logarithmic-transformations">Square-root, Cube-root, and Logarithmic Transformations</a></li>
  <li><a href="#box-cox-transformation" id="toc-box-cox-transformation" class="nav-link" data-scroll-target="#box-cox-transformation">Box-cox Transformation</a></li>
  </ul></li>
  <li><a href="#produce-an-html-transformation-summary" id="toc-produce-an-html-transformation-summary" class="nav-link" data-scroll-target="#produce-an-html-transformation-summary">Produce an HTML Transformation Summary</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Transforming like a Data… Transformer</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="purpose-of-this-chapter" class="level2">
<h2 class="anchored" data-anchor-id="purpose-of-this-chapter">Purpose of this chapter</h2>
<p><strong>Using data transformation to correct non-normality in numerical data</strong></p>
<hr>
</section>
<section id="take-aways" class="level2">
<h2 class="anchored" data-anchor-id="take-aways">Take-aways</h2>
<ol type="1">
<li>Load and explore a data set with publication quality tables</li>
<li>Quickly diagnose non-normality in data</li>
<li>Data transformation</li>
<li>Prepare an HTML summary report showcasing data transformations</li>
</ol>
<hr>
</section>
<section id="required-setup" class="level2">
<h2 class="anchored" data-anchor-id="required-setup">Required Setup</h2>
<p>We first need to prepare our environment with the necessary packages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Sets the number of significant figures to two - e.g., 0.01</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">digits =</span> <span class="dv">2</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Required package for quick package downloading and loading </span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">require</span>(pacman))  </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">"pacman"</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Downloads and load required packages</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(dlookr, <span class="co"># Exploratory data analysis</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>               forecast, <span class="co"># Needed for Box-Cox transformations</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>               formattable, <span class="co"># HTML tables from R outputs</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>               here, <span class="co"># Standardizes paths to data</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>               kableExtra, <span class="co"># Alternative to formattable</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>               knitr, <span class="co"># Needed to write HTML reports</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>               missRanger, <span class="co"># To generate NAs</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>               tidyverse) <span class="co"># Powerful data wrangling package suite</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
</section>
<section id="load-and-examine-a-data-set" class="level2">
<h2 class="anchored" data-anchor-id="load-and-examine-a-data-set">Load and Examine a Data Set</h2>
<ul>
<li>Load data and view</li>
<li>Examine columns and data types</li>
<li>Examine data normality</li>
<li>Describe properties of data</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Let's load a data set from the diabetes data set</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="fu">here</span>(<span class="st">"EDA_In_R_Book"</span>, <span class="st">"data"</span>, <span class="st">"diabetes.csv"</span>)) <span class="sc">|&gt;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add a categorical group</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Age_group =</span> <span class="fu">ifelse</span>(Age <span class="sc">&gt;=</span> <span class="dv">21</span> <span class="sc">&amp;</span> Age <span class="sc">&lt;=</span> <span class="dv">30</span>, <span class="st">"Young"</span>, </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">ifelse</span>(Age <span class="sc">&gt;</span> <span class="dv">30</span> <span class="sc">&amp;</span> Age <span class="sc">&lt;=</span> <span class="dv">50</span>, <span class="st">"Middle"</span>, </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                                   <span class="st">"Elderly"</span>)),</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Age_group =</span> <span class="fu">fct_rev</span>(Age_group))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># What does the data look like?</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">|&gt;</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>() <span class="sc">|&gt;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formattable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
Pregnancies
</th>
<th style="text-align:right;">
Glucose
</th>
<th style="text-align:right;">
BloodPressure
</th>
<th style="text-align:right;">
SkinThickness
</th>
<th style="text-align:right;">
Insulin
</th>
<th style="text-align:right;">
BMI
</th>
<th style="text-align:right;">
DiabetesPedigreeFunction
</th>
<th style="text-align:right;">
Age
</th>
<th style="text-align:right;">
Outcome
</th>
<th style="text-align:right;">
Age_group
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:right;">
148
</td>
<td style="text-align:right;">
72
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
34
</td>
<td style="text-align:right;">
0.63
</td>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
Middle
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
85
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
29
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
27
</td>
<td style="text-align:right;">
0.35
</td>
<td style="text-align:right;">
31
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Middle
</td>
</tr>
<tr>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
183
</td>
<td style="text-align:right;">
64
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
0.67
</td>
<td style="text-align:right;">
32
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
Middle
</td>
</tr>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
89
</td>
<td style="text-align:right;">
66
</td>
<td style="text-align:right;">
23
</td>
<td style="text-align:right;">
94
</td>
<td style="text-align:right;">
28
</td>
<td style="text-align:right;">
0.17
</td>
<td style="text-align:right;">
21
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Young
</td>
</tr>
<tr>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
137
</td>
<td style="text-align:right;">
40
</td>
<td style="text-align:right;">
35
</td>
<td style="text-align:right;">
168
</td>
<td style="text-align:right;">
43
</td>
<td style="text-align:right;">
2.29
</td>
<td style="text-align:right;">
33
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
Middle
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:right;">
116
</td>
<td style="text-align:right;">
74
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
0.20
</td>
<td style="text-align:right;">
30
</td>
<td style="text-align:right;">
0
</td>
<td style="text-align:right;">
Young
</td>
</tr>
</tbody>

</table>
</div>
</div>
<hr>
<section id="data-normality" class="level3">
<h3 class="anchored" data-anchor-id="data-normality">Data Normality</h3>
<p>Normal distributions (bell curves) are a common data assumptions for many <a href="https://en.wikipedia.org/wiki/Statistical_hypothesis_testing">hypothesis testing statistics</a>, in particular <a href="https://en.wikipedia.org/wiki/Parametric_statistics">parametric statistics</a>. Deviations from normality can either strongly skew the results or reduce the power to detect a <a href="https://en.wikipedia.org/wiki/Statistical_significance">significant statistical difference</a>.</p>
<p>Here are the distribution properties to know and consider:</p>
<ul>
<li><p>The mean, median, and mode are the same value.</p></li>
<li><p>Distribution symmetry at the mean.</p></li>
<li><p>Normal distributions can be described by the mean and standard deviation.</p></li>
</ul>
<p>Here’s an example using the <code>Glucose</code> column in our <code>dataset</code></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/norm-plot-cent-tend-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="describing-properties-of-our-data-refined" class="level3">
<h3 class="anchored" data-anchor-id="describing-properties-of-our-data-refined">Describing Properties of our Data (Refined)</h3>
<section id="skewness" class="level4">
<h4 class="anchored" data-anchor-id="skewness">Skewness</h4>
<p>The symmetry of the distribution</p>
<p>See <a href="intro.html#sec-DistShape">Introduction&nbsp;<span>4.3</span></a> for more information about these values</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Glucose, Insulin, BMI, SkinThickness) <span class="sc">|&gt;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe</span>() <span class="sc">|&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(described_variables, skewness) <span class="sc">|&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">formattable</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<table class="table table-condensed">
<thead>
<tr>
<th style="text-align:right;">
described_variables
</th>
<th style="text-align:right;">
skewness
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
Glucose
</td>
<td style="text-align:right;">
0.17
</td>
</tr>
<tr>
<td style="text-align:right;">
Insulin
</td>
<td style="text-align:right;">
2.27
</td>
</tr>
<tr>
<td style="text-align:right;">
BMI
</td>
<td style="text-align:right;">
-0.43
</td>
</tr>
<tr>
<td style="text-align:right;">
SkinThickness
</td>
<td style="text-align:right;">
0.11
</td>
</tr>
</tbody>

</table>
</div>
</div>
<p>Note that we will remove the other percentiles to produce a cleaner output</p>
<ul>
<li><p><code>describes_variables</code>: name of the column being described</p></li>
<li><p><code>skewness</code>: skewness</p></li>
</ul>
<hr>
</section>
</section>
</section>
<section id="testing-normality-accelerated" class="level2">
<h2 class="anchored" data-anchor-id="testing-normality-accelerated">Testing Normality (Accelerated)</h2>
<ul>
<li><p>Q-Q plots</p></li>
<li><p>Testing overall normality of two columns</p></li>
<li><p>Testing normality of groups</p></li>
</ul>
<p><strong>Note</strong> that you can also use <code>normality()</code> to run Shapiro-Wilk tests, but since this test is not viable at <code>N &lt; 20</code>, I recommend Q-Q plots.</p>
<hr>
<section id="q-q-plots" class="level4">
<h4 class="anchored" data-anchor-id="q-q-plots">Q-Q Plots</h4>
<p>Plots of the quartiles of a target data set against the predicted quartiles from a normal distribution.</p>
<p>Notably, <code>plot_normality()</code> will show you the logaritmic and skewed transformations (more below)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_normality</span>(Glucose, Insulin, Age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/norm-plot-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/norm-plot-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/norm-plot-3.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
</section>
<section id="normality-within-groups" class="level2">
<h2 class="anchored" data-anchor-id="normality-within-groups">Normality within Groups</h2>
<p>Looking within Age_group at the subgroup normality</p>
<section id="q-q-plots-1" class="level4">
<h4 class="anchored" data-anchor-id="q-q-plots-1">Q-Q Plots</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dataset <span class="sc">%&gt;%</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Age_group) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(Glucose, Insulin) <span class="sc">%&gt;%</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_normality</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/grouped-norm-plot-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/grouped-norm-plot-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/grouped-norm-plot-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/grouped-norm-plot-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/grouped-norm-plot-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/grouped-norm-plot-6.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
</section>
<section id="transforming-data" class="level2">
<h2 class="anchored" data-anchor-id="transforming-data">Transforming Data</h2>
<p>Your data could be more easily interpreted with a transformation, since not all relationships in nature follow a linear relationship - i.e., many biological phenomena follow a power law (or logarithmic curve), where they do not scale linearly.</p>
<p>We will try to transform the <code>Insulin</code> column with through several approaches and discuss the pros and cons of each. First however, we will remove <code>0</code> values, because <code>Insulin</code> values are impossible…</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>InsMod <span class="ot">&lt;-</span> dataset <span class="sc">|&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Insulin <span class="sc">&gt;</span> <span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<hr>
<section id="square-root-cube-root-and-logarithmic-transformations" class="level3">
<h3 class="anchored" data-anchor-id="square-root-cube-root-and-logarithmic-transformations">Square-root, Cube-root, and Logarithmic Transformations</h3>
<p>Resolving Skewness using <code>transform()</code>.</p>
<p>“sqrt”: <a href="https://en.wikipedia.org/wiki/Square_root">square-root transformation</a>. <span class="math inline">\(\sqrt x\)</span> <strong>(moderate skew)</strong></p>
<p>“log”: <a href="https://en.wikipedia.org/wiki/Logarithm">log transformation</a>. <span class="math inline">\(log(x)\)</span> <strong>(greater skew)</strong></p>
<p>“log+1”: log transformation. <span class="math inline">\(log(x + 1)\)</span>. Used for values that contain 0.</p>
<p>“1/x”: <a href="https://en.wikipedia.org/wiki/Inverse_function">inverse transformation</a>. <span class="math inline">\(1/x\)</span> <strong>(severe skew)</strong></p>
<p>“x^2”: <a href="https://en.wikipedia.org/wiki/Quadratic_function">squared transformation</a>. <span class="math inline">\(x^2\)</span></p>
<p>“x^3”: <a href="https://en.wikipedia.org/wiki/Cubic_function">cubed transformation</a>. <span class="math inline">\(x^3\)</span></p>
<p>We will compare the <code>sqrt</code>, <code>log+1</code>, <code>1/x</code> (inverse), <code>x^2</code>, and <code>x^3</code> transformations. Note that you would have to add a constant to use the <code>log</code> transformation, so it is easier to use the <code>log+1</code> instead. You however need to add a constant to both the <code>sqrt</code> and <code>1/x</code> transformations because they don’t include zeros and will otherwise skew the results. <em>Here we removed zeros a priori</em>.</p>
<hr>
<section id="square-root-transformation" class="level4">
<h4 class="anchored" data-anchor-id="square-root-transformation">Square-root Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sqrtIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>Insulin, <span class="at">method =</span> <span class="st">"sqrt"</span>) </span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(sqrtIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with sqrt

* Information of Transformation (before vs after)
         Original Transformation
n           394.0         394.00
na            0.0           0.00
mean        155.5          11.75
sd          118.8           4.17
se_mean       6.0           0.21
IQR         113.8           5.05
skewness      2.2           1.01
kurtosis      6.4           1.46
p00          14.0           3.74
p01          18.0           4.24
p05          41.7           6.45
p10          50.3           7.09
p20          69.2           8.32
p25          76.2           8.73
p30          87.9           9.38
p40         105.0          10.25
p50         125.0          11.18
p60         145.8          12.07
p70         176.0          13.27
p75         190.0          13.78
p80         210.0          14.49
p90         292.4          17.10
p95         395.5          19.89
p99         580.5          24.09
p100        846.0          29.09</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sqrtIns <span class="sc">|&gt;</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/sqrt-viz-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="logarithmic-1-transformation" class="level4">
<h4 class="anchored" data-anchor-id="logarithmic-1-transformation">Logarithmic (+1) Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>Log1Ins <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>Insulin, <span class="at">method =</span> <span class="st">"log+1"</span>) </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(Log1Ins)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with log+1

* Information of Transformation (before vs after)
         Original Transformation
n           394.0        394.000
na            0.0          0.000
mean        155.5          4.818
sd          118.8          0.691
se_mean       6.0          0.035
IQR         113.8          0.905
skewness      2.2         -0.088
kurtosis      6.4          0.237
p00          14.0          2.708
p01          18.0          2.944
p05          41.7          3.753
p10          50.3          3.938
p20          69.2          4.251
p25          76.2          4.347
p30          87.9          4.488
p40         105.0          4.663
p50         125.0          4.836
p60         145.8          4.989
p70         176.0          5.176
p75         190.0          5.252
p80         210.0          5.352
p90         292.4          5.682
p95         395.5          5.983
p99         580.5          6.366
p100        846.0          6.742</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>Log1Ins <span class="sc">|&gt;</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/log-viz-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="inverse-transformation" class="level4">
<h4 class="anchored" data-anchor-id="inverse-transformation">Inverse Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>InvIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>Insulin, <span class="at">method =</span> <span class="st">"1/x"</span>) </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(InvIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with 1/x

* Information of Transformation (before vs after)
         Original Transformation
n           394.0        3.9e+02
na            0.0        0.0e+00
mean        155.5        1.1e-02
sd          118.8        9.0e-03
se_mean       6.0        4.6e-04
IQR         113.8        7.9e-03
skewness      2.2        3.2e+00
kurtosis      6.4        1.5e+01
p00          14.0        1.2e-03
p01          18.0        1.7e-03
p05          41.7        2.5e-03
p10          50.3        3.4e-03
p20          69.2        4.8e-03
p25          76.2        5.3e-03
p30          87.9        5.7e-03
p40         105.0        6.9e-03
p50         125.0        8.0e-03
p60         145.8        9.5e-03
p70         176.0        1.1e-02
p75         190.0        1.3e-02
p80         210.0        1.4e-02
p90         292.4        2.0e-02
p95         395.5        2.4e-02
p99         580.5        5.6e-02
p100        846.0        7.1e-02</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>InvIns <span class="sc">|&gt;</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/inv-viz-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="squared-transformation" class="level4">
<h4 class="anchored" data-anchor-id="squared-transformation">Squared Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>SqrdIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>Insulin, <span class="at">method =</span> <span class="st">"x^2"</span>) </span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(SqrdIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with x^2

* Information of Transformation (before vs after)
         Original Transformation
n           394.0        3.9e+02
na            0.0        0.0e+00
mean        155.5        3.8e+04
sd          118.8        7.2e+04
se_mean       6.0        3.7e+03
IQR         113.8        3.0e+04
skewness      2.2        4.8e+00
kurtosis      6.4        3.1e+01
p00          14.0        2.0e+02
p01          18.0        3.2e+02
p05          41.7        1.7e+03
p10          50.3        2.5e+03
p20          69.2        4.8e+03
p25          76.2        5.8e+03
p30          87.9        7.7e+03
p40         105.0        1.1e+04
p50         125.0        1.6e+04
p60         145.8        2.1e+04
p70         176.0        3.1e+04
p75         190.0        3.6e+04
p80         210.0        4.4e+04
p90         292.4        8.5e+04
p95         395.5        1.6e+05
p99         580.5        3.4e+05
p100        846.0        7.2e+05</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>SqrdIns <span class="sc">|&gt;</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/sqrd-viz-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
<section id="cubed-transformation" class="level4">
<h4 class="anchored" data-anchor-id="cubed-transformation">Cubed Transformation</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>CubeIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>Insulin, <span class="at">method =</span> <span class="st">"x^3"</span>) </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(CubeIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with x^3

* Information of Transformation (before vs after)
         Original Transformation
n           394.0        3.9e+02
na            0.0        0.0e+00
mean        155.5        1.4e+07
sd          118.8        4.8e+07
se_mean       6.0        2.4e+06
IQR         113.8        6.4e+06
skewness      2.2        7.7e+00
kurtosis      6.4        7.7e+01
p00          14.0        2.7e+03
p01          18.0        5.8e+03
p05          41.7        7.2e+04
p10          50.3        1.3e+05
p20          69.2        3.3e+05
p25          76.2        4.4e+05
p30          87.9        6.8e+05
p40         105.0        1.2e+06
p50         125.0        2.0e+06
p60         145.8        3.1e+06
p70         176.0        5.5e+06
p75         190.0        6.9e+06
p80         210.0        9.3e+06
p90         292.4        2.5e+07
p95         395.5        6.2e+07
p99         580.5        2.0e+08
p100        846.0        6.1e+08</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>CubeIns <span class="sc">|&gt;</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/cube-viz-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
</section>
<section id="box-cox-transformation" class="level3">
<h3 class="anchored" data-anchor-id="box-cox-transformation">Box-cox Transformation</h3>
<p>There are several transformations, each with it’s own “criteria”, and they don’t always fix extremely skewed data. Instead, you can just choose the <a href="https://en.wikipedia.org/wiki/Box%E2%80%93Cox_distribution">Box-Cox transformation</a> which searches for the the best lambda value that maximizes the log-likelihood (basically, what power transformation is best). The benefit is that you should have normally distributed data after, but the power relationship might be pretty abstract (i.e., what would a transformation of x^0.12 be interpreted as in your system?..)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>BoxCoxIns <span class="ot">&lt;-</span> <span class="fu">transform</span>(InsMod<span class="sc">$</span>Insulin, <span class="at">method =</span> <span class="st">"Box-Cox"</span>) </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(BoxCoxIns)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>* Resolving Skewness with Box-Cox

* Information of Transformation (before vs after)
         Original Transformation
n           394.0        394.000
na            0.0          0.000
mean        155.5          3.011
sd          118.8          0.262
se_mean       6.0          0.013
IQR         113.8          0.335
skewness      2.2         -0.630
kurtosis      6.4          1.003
p00          14.0          2.027
p01          18.0          2.168
p05          41.7          2.588
p10          50.3          2.673
p20          69.2          2.808
p25          76.2          2.848
p30          87.9          2.904
p40         105.0          2.973
p50         125.0          3.037
p60         145.8          3.092
p70         176.0          3.157
p75         190.0          3.183
p80         210.0          3.216
p90         292.4          3.320
p95         395.5          3.409
p99         580.5          3.515
p100        846.0          3.610</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>BoxCoxIns <span class="sc">|&gt;</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="TransformingLikeDataTrans_files/figure-html/boxcox-viz-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<hr>
</section>
</section>
<section id="produce-an-html-transformation-summary" class="level2">
<h2 class="anchored" data-anchor-id="produce-an-html-transformation-summary">Produce an HTML Transformation Summary</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">transformation_web_report</span>(dataset)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ExploringLikeDataAdventurer.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Exploring like a Data Adventurer</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ImputingLikeDataScientist.html" class="pagination-link">
        <span class="nav-page-text">Imputing like a Data Scientist</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>